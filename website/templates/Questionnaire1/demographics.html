{% extends "base.html" %}
{% block titel %}First Questionnaire Demographics{% endblock %}
{% block content %}

<section class="py-3 text-center container">
  <div class="row py-lg-4">
    <div class="col-lg-8 col-md-8 mx-auto">
      <h1 class="fw-light" data-i18n="demo_title">Registration for the Discussion</h1>

      <p class="lead text-body-secondary" data-i18n="demo_intro1">
        The following information is required for registration. <br>
        Please provide the following details truthfully.<br>
        Your data will only be used anonymously for evaluation purposes.
      </p>

      {# Updated copy: language is now used for matching #}
      <p class="lead text-body-secondary" data-i18n="demo_intro2">
        Demographic data is collected mainly for interface testing.  
        Only your preferred language may be used for matching so that you are paired with a participant who selected the same language.
      </p>
    </div>
  </div>
</section>

<div class="py-3 text-center">
  <h3 class="fw-light" data-i18n="demo_heading1">1. Demographic Information</h3>
</div>

<div class="album py-5 bg-body-tertiary">
  <div class="container">
    <div class="col-8 mx-auto">
      <form action="#" id="demo" method="post">

        <!-- Gender -->
        <div class="col-md-8 mx-auto">
          <label for="gender" class="form-label" data-i18n="demo_gender_label">Gender</label>
          <select class="form-select" name="gender" id="gender" required>
            <option value="" selected disabled data-i18n="choose">Choose...</option>
            <option value="male" data-i18n="gender_male">Male</option>
            <option value="female" data-i18n="gender_female">Female</option>
            <option value="diverse" data-i18n="gender_diverse">Diverse</option>
            <option value="other" data-i18n="gender_other">Other</option>
          </select>
          <div class="invalid-feedback" data-i18n="demo_gender_invalid">
            Please select a valid gender.
          </div>
        </div>

        <!-- Age -->
        <div class="col-md-8 mx-auto mt-3">
          <label for="age" class="form-label" data-i18n="demo_age_label">Age</label>
          <select class="form-select" id="age" name="age" required>
            <option value="" selected disabled data-i18n="choose">Choose...</option>
            <option value="0-18" data-i18n="age_0_18">0-18 years</option>
            <option value="18-25" data-i18n="age_18_25">18-25 years</option>
            <option value="25-35" data-i18n="age_25_35">25-35 years</option>
            <option value="35-45" data-i18n="age_35_45">35-45 years</option>
            <option value="45-55" data-i18n="age_45_55">45-55 years</option>
            <option value="55-65" data-i18n="age_55_65">55-65 years</option>
            <option value="65-75" data-i18n="age_65_75">65-75 years</option>
            <option value="75+" data-i18n="age_75_plus">75+ years</option>
            <option value="other" data-i18n="other">Other</option>
          </select>
          <div class="invalid-feedback" data-i18n="demo_age_invalid">
            Please select a valid age group.
          </div>
        </div>

        <!-- Education -->
        <div class="col-md-8 mx-auto mt-3">
          <label for="education" class="form-label" data-i18n="demo_education_label">Education Level</label>
          <select class="form-select" name="education" id="education" required>
            <option value="" selected disabled data-i18n="choose">Choose...</option>
            <option value="secondary" data-i18n="edu_secondary">Secondary School</option>
            <option value="highschool" data-i18n="edu_highschool">High School Diploma</option>
            <option value="bachelor" data-i18n="edu_bachelor">Bachelor's</option>
            <option value="master" data-i18n="edu_master">Master's</option>
            <option value="other" data-i18n="other">Other</option>
          </select>
          <div class="invalid-feedback" data-i18n="demo_education_invalid">
            Please select a valid education level.
          </div>
        </div>

        <!-- Employment -->
        <div class="col-md-8 mx-auto mt-3">
          <label for="job" class="form-label" data-i18n="demo_job_label">Employment Status</label>
          <select class="form-select" name="job" id="job" required>
            <option value="" selected disabled data-i18n="choose">Choose...</option>
            <option value="school_student" data-i18n="job_school_student">Student (School)</option>
            <option value="uni_student" data-i18n="job_uni_student">University Student</option>
            <option value="employed" data-i18n="job_employed">Employed</option>
            <option value="retired" data-i18n="job_retired">Retired</option>
            <option value="other" data-i18n="other">Other</option>
          </select>
          <div class="invalid-feedback" data-i18n="demo_job_invalid">
            Please select a valid employment status.
          </div>
        </div>

        <!-- NEW: Language -->
        <div class="col-md-8 mx-auto mt-3">
          <label for="language" class="form-label" data-i18n="demo_language_label">Preferred language</label>
          <select class="form-select" name="language" id="language" required>
            <option value="" selected disabled data-i18n="choose">Choose...</option>
            <option value="en" data-i18n="lang_en">English</option>
            <option value="de" data-i18n="lang_de">German</option>
          </select>
          <div class="invalid-feedback" data-i18n="demo_language_invalid">
            Please select a valid language.
          </div>
        </div>

        <!-- Availability -->
        <div class="col-md-8 mx-auto mt-4">
          <label for="availability1" class="form-label" data-i18n="slot1_label">Preferred time slot 1</label>
          <select name="availability1" id="availability1" class="form-select" required>
            <option value="" data-i18n="slot_choose">Please choose a time slot</option>
            {% for s in slots %}
              <option value="{{ s.value }}">{{ s.label }}</option>
            {% endfor %}
          </select>

          <label for="availability2" class="form-label mt-3" data-i18n="slot2_label">
            Preferred time slot 2 (optional)
          </label>
          <select name="availability2" id="availability2" class="form-select">
            <option value="" data-i18n="slot_optional">Optional: choose another time slot</option>
            {% for s in slots %}
              <option value="{{ s.value }}">{{ s.label }}</option>
            {% endfor %}
          </select>

          <label for="availability3" class="form-label mt-3" data-i18n="slot3_label">
            Preferred time slot 3 (optional)
          </label>
          <select name="availability3" id="availability3" class="form-select">
            <option value="" data-i18n="slot_optional3">Optional: choose a third time slot</option>
            {% for s in slots %}
              <option value="{{ s.value }}">{{ s.label }}</option>
            {% endfor %}
          </select>
        </div>

        <hr class="my-4">

        <div class="d-grid gap-2 col-6 mx-auto">
          <button class="btn btn-primary" type="submit" data-i18n="next_button">Next</button>
        </div>

      </form>
    </div>
  </div>
</div>

{% endblock %}
